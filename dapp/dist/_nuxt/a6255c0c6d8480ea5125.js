(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{287:function(t,n,e){"use strict";function o(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}e.d(n,"c",(function(){return h})),e.d(n,"a",(function(){return y})),e.d(n,"b",(function(){return _})),e.d(n,"d",(function(){return w})),e.d(n,"e",(function(){return O}));var r=e(81),c=e.n(r);function d(){var data=o(["\n  query tokenById($id: String!) {\n    tokenById: token(id: $id) {\n      id\n      owner\n      metaData {\n        name\n        image\n        description\n      }\n    }\n  }\n"]);return d=function(){return data},data}function l(){var data=o(["\n  query tokensByAccount($owner: String!) {\n    tokensByAccount: tokens(where:{owner: $owner}) {\n      id\n      owner\n      metaData {\n        name\n        image\n        description\n      }\n    }\n  }\n"]);return l=function(){return data},data}function m(){var data=o(["\n  query auctionById($id: String!) {\n    auctionById: ephimeraAuction(id: $id) {\n      id\n      token {\n        metaData {\n          id\n          name\n          image\n          description\n        }\n      }\n      start\n      end\n      artist\n      bidCount\n      topBidder\n      topBidInWei\n      topBidTimestamp\n      bids {\n        id\n        bidder\n        bidInWei\n        bidTimestamp\n      }\n      success\n    }\n  }\n"]);return m=function(){return data},data}function f(){var data=o(["\n  {\n    ephimeraAuctions(first: 5) {\n      id\n      token {\n        metaData {\n          id\n          name\n          image\n          description\n        }\n      }\n      start\n      end\n      artist\n      bidCount\n      topBidder\n      topBidInWei\n      topBidTimestamp\n      bids {\n        id\n        bidder\n        bidInWei\n        bidTimestamp\n      },\n      success\n    }\n  }\n"]);return f=function(){return data},data}function v(){var data=o(["\n  {\n    tokens(first: 10) {\n      id\n      owner\n      transferCount\n      metaData {\n        id\n        name\n        image\n        description\n      }\n    }\n  }\n"]);return v=function(){return data},data}var h=c()(v()),y=c()(f()),_=c()(m()),w=c()(l()),O=c()(d())},288:function(t,n,e){var content=e(291);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(58).default)("e4f2bbf2",content,!0,{sourceMap:!1})},290:function(t,n,e){"use strict";var o=e(288);e.n(o).a},291:function(t,n,e){(n=e(57)(!1)).push([t.i,".top-bid[data-v-65d8af2e],.top-count[data-v-65d8af2e]{font-size:1.5rem}.collapsed>.when-opened[data-v-65d8af2e],:not(.collapsed)>.when-closed[data-v-65d8af2e]{display:none}",""]),t.exports=n},292:function(t,n,e){"use strict";e(7),e(4),e(5),e(3),e(6);var o=e(0),r=e(66);function c(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var d={props:["auction"],computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(n){Object(o.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({},Object(r.b)("web3ethers",["isAdmin"]))},l=(e(290),e(56)),component=Object(l.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-card",{staticStyle:{"max-width":"25rem"},attrs:{"no-body":"","img-top":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("h3",{staticClass:"mb-4"},[t._v(t._s(t.auction.token.metaData.name))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h6",[t._v("Token #"+t._s(t.auction.id))])]),t._v(" "),e("div",{staticClass:"col text-right"},[t.auction.topBidInWei?e("span",{staticClass:"badge badge-success float-right"},[t._v("Top Bid: "),e("span",{staticClass:"top-bid font-italic"},[t._v(t._s(t._f("toEth")(t.auction.topBidInWei))+" ETH")])]):e("span",{staticClass:"badge badge-warning float-right"},[t._v("No Bids")])])])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[null===t.auction.success?e("client-only",[e("vac",{attrs:{"end-time":new Date(1e3*parseInt(t.auction.end)).getTime()},scopedSlots:t._u([{key:"process",fn:function(n){var o=n.timeObj;return e("span",{staticClass:"text-danger"},[t._v("\n              Remaining"),e("br"),t._v("\n              "+t._s(o.h+" : "+o.m+" : "+o.s)+"\n            ")])}}],null,!1,1889297136)},[t._v(" "),e("span",{staticClass:"badge badge-info",attrs:{slot:"finish"},slot:"finish"},[t._v("ENDED")])])],1):e("span",{staticClass:"badge",class:{"badge-success":t.auction.success,"badge-danger":!t.auction.success}},[t._v("\n          "+t._s(t.auction.success?"SUCCESS":"BURNED")+"\n        ")])],1)]),t._v(" "),e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col"}),t._v(" "),e("div",{staticClass:"col text-right"},[t._t("default")],2)])]},proxy:!0}],null,!0)},[t._v(" "),e("b-list-group",{staticClass:"text-info",attrs:{flush:""}},[e("b-list-group-item",[t._v("Bid count: "),e("span",{staticClass:"badge badge-light top-count float-right"},[t._v(t._s(t.auction.bidCount))])]),t._v(" "),e("b-list-group-item",[t._v("Artist: "),e("code",[t._v(t._s(t.auction.artist))])])],1),t._v(" "),t.auction.topBidder?e("b-list-group",{staticClass:"text-dark",attrs:{flush:""}},[e("b-list-group-item",[t._v("Top bidder: "),e("code",[t._v(t._s(t.auction.topBidder))])]),t._v(" "),e("b-list-group-item",[t._v("Start: "+t._s(t._f("moment")(new Date(1e3*t.auction.start),"from")))]),t._v(" "),e("b-list-group-item",[t._v("Top bid time: "+t._s(t._f("moment")(new Date(1e3*t.auction.topBidTimestamp),"from")))])],1):t._e(),t._v(" "),e("div",[e("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.my-collapse",modifiers:{"my-collapse":!0}}],staticClass:"text-muted m-2 text-center"},[e("span",{staticClass:"when-opened"},[t._v("Hide bid history")]),t._v(" "),e("span",{staticClass:"when-closed"},[t._v("Show bid history")])]),t._v(" "),e("b-collapse",{attrs:{id:"my-collapse"}},t._l(t.auction.bids,(function(n){return e("div",{key:n.bidTimestamp+"-"+n.bidInWei,staticClass:"row small m-2"},[e("div",{staticClass:"col"},[t._v(t._s(t._f("moment")(new Date(1e3*n.bidTimestamp),"from")))]),t._v(" "),e("div",{staticClass:"col"},[t._v(t._s(t._f("toEth")(n.bidInWei))+" ETH")])])})),0)],1)],1)}),[],!1,null,"65d8af2e",null);n.a=component.exports},295:function(t,n,e){"use strict";e.r(n);e(7),e(4),e(5),e(3),e(6),e(16),e(40);var o=e(14),r=e(0),c=e(287),d=e(292),l=e(66);function m(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var f={components:{AuctionTile:d.a},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({},Object(l.b)("web3ethers",["isAdmin"])),data:function(){return{auctionById:null}},methods:{bid:function(){this.$store.dispatch("web3ethers/bid",{tokenId:this.$route.params.id})},result:function(){this.$store.dispatch("web3ethers/result",{tokenId:this.$route.params.id})}},apollo:{auctionById:{query:c.b,pollInterval:1e3,variables:function(){return{id:this.$route.params.id}}}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.app,o=t.params,r=e.apolloProvider.defaultClient,n.next=4,r.query({query:c.b,variables:{id:o.id}}).then((function(t){var data=t.data;return data&&data.auctionById}));case 4:return d=n.sent,n.abrupt("return",{auctionById:d});case 6:case"end":return n.stop()}}),n)})))()},head:function(){return{title:"Ephimera - Auction #".concat(this.auctionById.id),meta:[{hid:"title",name:"title",content:"".concat(this.auctionById.token.metaData.name)},{hid:"description",name:"description",content:"".concat(this.auctionById.token.metaData.description)},{hid:"image",name:"image",content:this.auctionById.token.metaData.image},{hid:"og:title",name:"og:title",content:"".concat(this.auctionById.token.metaData.name)},{hid:"og:description",name:"og:description",content:"".concat(this.auctionById.token.metaData.description)},{hid:"og:image",name:"og:image",content:this.auctionById.token.metaData.image},{hid:"og:url",name:"og:url",content:this.auctionById.token.metaData.image},{hid:"twitter:description",property:"twitter:description",content:"".concat(this.auctionById.token.metaData.description)},{hid:"twitter:title",property:"twitter:title",content:"".concat(this.auctionById.token.metaData.name)}]}}},v=e(56),component=Object(v.a)(f,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Auction #"+t._s(t.$route.params.id))]),t._v(" "),t.auctionById?e("div",{staticClass:"mt-5"},[e("auction-tile",{attrs:{auction:t.auctionById}},[e("button",{staticClass:"btn btn-primary btn-lg",on:{click:function(n){return t.bid()}}},[t._v("Bid +1 ETH")]),t._v(" "),t.isAdmin&&null===t.auctionById.success?e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){return t.result()}}},[t._v("Result")])]):t._e()])],1):e("div",[t._v("\n    No auction for "+t._s(t.$route.params.id)+"\n  ")])])}),[],!1,null,null,null);n.default=component.exports}}]);